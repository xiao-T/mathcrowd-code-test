(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{344:function(e,a,t){},346:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=(t(325),t(333)),r=(t(321),t(324)),m=(t(322),t(323)),u=(t(326),t(331)),i=t(74),s=(t(327),t(334)),o=(t(328),t(337)),E=(t(338),t(336)),f=(t(73),t(28)),d=t(116),v=t(329),p=t.n(v),b=t(340),g=t(341),w=function(e){return{type:"UPDATE_USERINFO",userinfo:e}};function h(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function N(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,l=!1,c=void 0;try{for(var r,m=e[Symbol.iterator]();!(n=(r=m.next()).done)&&(t.push(r.value),!a||t.length!==a);n=!0);}catch(e){l=!0,c=e}finally{try{n||null==m.return||m.return()}finally{if(l)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=null,O=function(e){var a=e.className,t=void 0===a?"":a,c=N(Object(n.useState)(!1),2),u=c[0],i=c[1],v=N(Object(n.useState)(""),2),O=v[0],j=v[1],C=Object(d.b)(),k=Object(d.c)(function(e){return e.userinfo}),x=k.login,S=k.nickname,q=k.avatar;function F(){i(!u)}function P(e){y=setTimeout(function(){(function(e){return p.a.get("https://www.mathcrowd.cn/index.php?r=qr/ajax-check&uuid=".concat(e))})(e).then(function(a){var t=a.data,n=t.success,l=t.status_id;"success"===n&&1===l?(C(w(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){h(e,a,t[a])})}return e}({login:!0},t))),i(!1)):P(e)})},500)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{align:"middle",gutter:20,className:"login-status ".concat(t)},x?l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,null,l.a.createElement(m.a,{align:"middle",gutter:5},l.a.createElement(r.a,null,q?l.a.createElement(E.a,{className:"avatar",src:"https://cdn2.mathcrowd.cn/uploads/avatar/".concat(q)}):l.a.createElement(E.a,{className:"avatar",icon:l.a.createElement(b.a,null)})),l.a.createElement(r.a,{className:"user-name"},S))),l.a.createElement(r.a,{className:"icon bell-icon"},l.a.createElement(o.a,{dot:!0},l.a.createElement(g.a,null)))):l.a.createElement(f.a,{onClick:function(){p.a.get("https://www.mathcrowd.cn/index.php?r=qr/ajax-generate").then(function(e){var a=e.data,t=a.success,n=a.uuid;"success"===t&&(i(!0),j(n),P(n))})},type:"text"},"扫码登录")),l.a.createElement(s.a,{closable:!1,onOk:F,onCancel:F,afterClose:function(){y&&clearTimeout(y)},visible:u},l.a.createElement("img",{className:"login-qr",src:"https://www.mathcrowd.cn/index.php?r=qr%2Fget&uuid=".concat(O)})))},j=(t(330),t(335)),C=(t(339),t(332)),k=t(342),x=C.a.Item,S=C.a.Divider,q=function(){return l.a.createElement(C.a,{className:"drop-menu"},l.a.createElement(x,null,l.a.createElement(i.b,{className:"nav-item",activeClassName:"active",to:"/home"},"组卷")),l.a.createElement(x,null,l.a.createElement(i.b,{className:"nav-item",activeClassName:"active",to:"/qa"},"问答")),l.a.createElement(x,null,l.a.createElement(i.b,{className:"nav-item",activeClassName:"active",to:"/topics"},"专栏")),l.a.createElement(S,null),l.a.createElement(O,{className:"drop-menu-login-status"}))},F=function(){return l.a.createElement(j.a,{className:"dropdown",overlay:l.a.createElement(q,null),trigger:["click"],arrow:!0},l.a.createElement(k.a,null))},P=(t(344),u.a.Item),I=function(){return l.a.createElement(m.a,{align:"middle",justify:"space-between",className:"nav-bar"},l.a.createElement(m.a,{align:"middle",gutter:20},l.a.createElement(r.a,null,l.a.createElement("i",{className:"logo"})),l.a.createElement(r.a,{className:"navs"},l.a.createElement(m.a,{gutter:20},l.a.createElement(r.a,null,l.a.createElement(i.b,{className:"nav-item",activeClassName:"active",to:"/home"},"组卷")),l.a.createElement(r.a,null,l.a.createElement(i.b,{className:"nav-item",activeClassName:"active",to:"/qa"},"问答")),l.a.createElement(r.a,null,l.a.createElement(i.b,{className:"nav-item",activeClassName:"active",to:"/topics"},"专栏"))))),l.a.createElement(m.a,{className:"search-form",align:"middle"},l.a.createElement(u.a,null,l.a.createElement(P,null,l.a.createElement(c.a.Search,{placeholder:"请输入关键词"})))),l.a.createElement(O,null),l.a.createElement(F,null))},T=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,null))},A=function(){return l.a.createElement(T,null)};a.default=A}}]);